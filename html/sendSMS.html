<html>
<head>
<title>Create Template</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,700" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../css/templatestyle.css"> 
<link rel="stylesheet" type="text/css" href="../css/sendSMSstyle.css"> 
 <script type="text/javascript" src="../lib/ZohoEmbededAppSDK.min.js"></script>
    <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="../lib/handlebars-v4.0.10.js"></script>
    <script type="text/javascript" src="../js/createTemp.js"></script>
</head>
<style type="text/css">
    form{
        border: none;
    }
</style>
<body>
<div id="loading" style="display: none;">
        <div class="loadBG"></div>
        <div class="load"></div>
    </div>
    <div id="create" style="display: none;">
	<div class="popapulbg" >
	<div class="popapul">
    <form id="templateForm" method="get" action="" onsubmit="return false;">
	<h1 class="head" onclick="skip()">Create Template</h1>
	<div class="filed clearfix"><label class="fldText">Template Name</label><input class="fldtype" type="text" name="" id="templateName" required /></div>
	<div class="fldMsg clearfix">
	<label class="fldText Text1">Message</label>
	<span class="fldSelect clearfix"><i class="sltText">Select Field</i>

	<div class="newSelect" id="fieldnames"></div>
				<script id="fieldsList" type="text/x-handlebars-template">
                    <div>
                        <select id="selectOption" onclick="addField()" class="sltInput">
                            {{#each fields}}
    						<option>{{api_name}}</option>
                            {{/each}}
   						</select>
   					</div>
                  </script>
			

	</span>
	</div>
	<textarea class="msgBox" id="templateTxt" required></textarea>
	<div class="link"><button class="btn save" onclick="update()">Save</button><button class="btn cancel" onclick="skip()">Cancel</button></div>
    </form>
    <script type="text/javascript">
        $("#templateForm").validate();
    </script>
	</div>
	</div>
	</div>
	<div id="getTemp">
<div class="popapulbg">
	<div class="popapul">

<div class="filed clearfix">
		<label class="fldText">Select Your Number</label>
				 <div id="listNumbers" class="newSelect" style="margin-left: 40px;"></div>
                                <script type="text/x-handlebars-template" id="fromNum">
                                    <select id="toNumber" class="fldtype">
                                    {{#unless Phone}}<option>No Phone Numbers Found</option>{{/unless}}
                    {{#each Phone}}
                        <option value={{PhoneNumber}}>
                            {{FriendlyName}}:{{PhoneNumber}}
                        </option>
                    {{/each}}
                    </select>
                                </script>
	</div>
	
<div class="resipient">
	<label class="fldText">Recipients</label>
	<ul class="contact" id="recipientsList">
	</ul>
	<a href="#" class="Textbtn" id="view">+View More</a>
	</div>


<div class="filed1 clearfix">
	<div class="first"><label class="fldText">Choose a Template</label>
			<div id="templist" class="newSelect"></div>
                                <script type="text/x-handlebars-template" id="templates">
                                    <div style="float: left;" id="listTemplatesDiv">
                                        <select id="temp" onclick="listTemplates()" class="fldtype1">

                {{#each obj}}
                <option value={{id}}>{{[message360sruthy.CustomModule1_Name]}}</option>
                {{/each}}
                                                       <option id="none">--None--</option>
   
            </select>
                                    </div>
                                </script>
	</div>
	<div class="two"><button class="addbtn" onclick="addTemp()" style="cursor: pointer;">Create Template</button></div>
	</div>

<div class="fldMsg clearfix"><label class="fldText Text1">Message</label></div>
	<textarea class="msgBox" id="msgTxt"></textarea>
	<div class="link">
	<button class="btn save" onclick="sendsms()">Send</button>
	<button class="btn cancel" onclick="closePopUp(true)">Cancel</button>
	</div>

	</div>
	</div>
	</div>
	<div style="z-index: 999999 " id="statusReport"></div>
    <script type="text/x-handlebars-template" id="reportScript">
        <div id="report" style="display: none;">
            <div style="background-color: #ffffff"></div>
            <div>
                <h1 style="padding-top: 25px;padding-left: 26px;">SMS Summary</h1>
                <table class="recipients_tbl" border="0" cellpadding="0" cellspacing="0" style="border: 0px solid #e0e3e5; background-color: #ffffff; width: 100%;padding: 25px !important;">
                    <thead>
                        <tr class="headerRow">
                            <th>
                                <div>Name</div>
                            </th>
                            <th>
                                <div>Mobile</div>
                            </th>
                            <th>
                                <div>Status</div>
                            </th>
                        </tr>
                        {{#each data}}
                        <tr class="dataRow">
                            <td>{{Name}}</td>
                            <td>{{Mobile}}</td>
                            <td>{{Status}}</td>
                        </tr>
                        {{/each}}
                    </thead>
                </table>
            </div>
            <div style="padding-left: 500px;">
                <input type="button" value="Cancel" class="btn normalbtn cancelbtn" onclick="closePopUp(true)">
                <input type="button" value="Back" class="btn primarybtn sendbtn" onclick="skip()">
            </div>
            </div>
    </script>
    </div>
</body>
</html>